<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartHome IoT</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="theme-color" content="#2196F3">
    <link rel="manifest" href="manifest.json">
</head>
<body class="theme-light">
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="logo">
                <span class="material-icons">home</span>
                <h1>SmartHome IoT</h1>
            </div>
            <div class="loading">
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <p>ƒêang kh·ªüi ƒë·ªông...</p>
            </div>
            <div class="version">Phi√™n b·∫£n 1.2.3</div>
        </div>
    </div>

    <!-- Auth Container -->
    <div id="auth-container" class="auth-container hidden">
        <!-- Login Screen -->
        <div id="login-screen" class="auth-screen active">
            <div class="auth-header">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h2>ƒêƒÉng nh·∫≠p</h2>
            </div>
            <div class="auth-content">
                <div class="logo-section">
                    <span class="material-icons">home</span>
                    <h3>Ch√†o m·ª´ng tr·ªü l·∫°i!</h3>
                </div>
                <form class="auth-form" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label>Email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" id="login-email" placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <div class="password-input">
                            <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('login-password')">
                                <span class="material-icons">visibility</span>
                            </button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox" id="remember-me">
                            <span class="checkmark"></span>
                            Ghi nh·ªõ ƒëƒÉng nh·∫≠p
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">ƒêƒÉng nh·∫≠p</button>
                </form>
                <div class="auth-links">
                    <a href="#" onclick="showScreen('forgot-password')">Qu√™n m·∫≠t kh·∫©u?</a>
                </div>
                <div class="divider">
                    <span>HO·∫∂C</span>
                </div>
                <button class="btn btn-google" onclick="loginWithGoogle()">
                    <span class="google-icon">G</span>
                    ƒêƒÉng nh·∫≠p v·ªõi Google
                </button>
                <div class="auth-footer">
                    <p>Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" onclick="showScreen('signup')">ƒêƒÉng k√Ω</a></p>
                </div>
            </div>
        </div>

        <!-- Sign Up Screen -->
        <div id="signup-screen" class="auth-screen">
            <div class="auth-header">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h2>T·∫°o t√†i kho·∫£n</h2>
            </div>
            <div class="auth-content">
                <form class="auth-form" onsubmit="handleSignup(event)">
                    <div class="form-group">
                        <label>H·ªç v√† t√™n</label>
                        <input type="text" id="signup-name" placeholder="Nguyen Van A" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="signup-email" placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>S·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="tel" id="signup-phone" placeholder="+84 901234567" required>
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <div class="password-input">
                            <input type="password" id="signup-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('signup-password')">
                                <span class="material-icons">visibility</span>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                        <div class="password-input">
                            <input type="password" id="signup-confirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('signup-confirm')">
                                <span class="material-icons">visibility</span>
                            </button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox" id="agree-terms" required>
                            <span class="checkmark"></span>
                            T√¥i ƒë·ªìng √Ω v·ªõi <a href="#">ƒêi·ªÅu kho·∫£n</a> v√† <a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">ƒêƒÉng k√Ω</button>
                </form>
                <div class="auth-footer">
                    <p>ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" onclick="showScreen('login')">ƒêƒÉng nh·∫≠p</a></p>
                </div>
            </div>
        </div>

        <!-- Forgot Password Screen -->
        <div id="forgot-password-screen" class="auth-screen">
            <div class="auth-header">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h2>Qu√™n m·∫≠t kh·∫©u</h2>
            </div>
            <div class="auth-content">
                <div class="logo-section">
                    <span class="material-icons">vpn_key</span>
                    <h3>Kh√¥i ph·ª•c m·∫≠t kh·∫©u</h3>
                    <p>Nh·∫≠p email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i ƒë·ªÉ nh·∫≠n m√£ x√°c nh·∫≠n kh√¥i ph·ª•c</p>
                </div>
                <form class="auth-form" onsubmit="handleForgotPassword(event)">
                    <div class="form-group">
                        <label>Email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" id="forgot-email" placeholder="example@email.com" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">G·ª≠i m√£ x√°c nh·∫≠n</button>
                </form>
                <div class="auth-footer">
                    <p><a href="#" onclick="showScreen('login')">Quay l·∫°i ƒëƒÉng nh·∫≠p</a></p>
                </div>
            </div>
        </div>

        <!-- OTP Verification Screen -->
        <div id="otp-screen" class="auth-screen">
            <div class="auth-header">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h2>X√°c nh·∫≠n m√£ OTP</h2>
            </div>
            <div class="auth-content">
                <div class="logo-section">
                    <span class="material-icons">message</span>
                    <h3>Nh·∫≠p m√£ x√°c nh·∫≠n</h3>
                    <p>M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email<br><strong id="otp-email">example@email.com</strong></p>
                </div>
                <form class="auth-form" onsubmit="handleOTP(event)">
                    <div class="otp-inputs">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 0)">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 1)">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 2)">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 3)">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 4)">
                        <input type="text" maxlength="1" class="otp-input" oninput="moveToNext(this, 5)">
                    </div>
                    <div class="resend-timer">
                        <p>G·ª≠i l·∫°i m√£ sau <span id="countdown">00:45</span></p>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">X√°c nh·∫≠n</button>
                </form>
                <div class="auth-links">
                    <a href="#" onclick="resendOTP()">G·ª≠i l·∫°i m√£ OTP</a>
                    <a href="#" onclick="showScreen('forgot-password')">Thay ƒë·ªïi email</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="home-selector" onclick="showHomeSelector()">
                    <span id="current-home-name">Nh√† c·ªßa Anh</span>
                    <span class="material-icons">keyboard_arrow_down</span>
                </div>
            </div>
            <div class="header-right">
                <button class="header-btn" onclick="showNotifications()">
                    <span class="material-icons">notifications</span>
                    <span class="badge" id="notification-badge">3</span>
                </button>
                <button class="header-btn voice-btn" onclick="startVoiceControl()">
                    <span class="material-icons">mic</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Screen -->
            <div id="home-screen" class="screen active">
                <!-- Weather Widget -->
                <div class="weather-widget">
                    <div class="weather-info">
                        <span class="weather-icon">‚òÄÔ∏è</span>
                        <div class="weather-details">
                            <div class="temperature">28¬∞C</div>
                            <div class="location">H√† N·ªôi, H√¥m nay</div>
                            <div class="description">N·∫Øng, gi√≥ nh·∫π</div>
                        </div>
                    </div>
                </div>

                <!-- Favorite Devices -->
                <section class="section">
                    <h3 class="section-title">Thi·∫øt b·ªã y√™u th√≠ch</h3>
                    <div class="device-grid" id="favorite-devices">
                        <!-- Devices will be populated by JS -->
                    </div>
                </section>

                <!-- Quick Scenes -->
                <section class="section">
                    <h3 class="section-title">K·ªãch b·∫£n nhanh</h3>
                    <div class="scene-grid" id="quick-scenes">
                        <!-- Scenes will be populated by JS -->
                    </div>
                </section>

                <!-- Today's Summary -->
                <section class="section">
                    <h3 class="section-title">H√¥m nay</h3>
                    <div class="summary-cards">
                        <div class="summary-card">
                            <span class="material-icons">bolt</span>
                            <div class="summary-info">
                                <div class="summary-label">ƒêi·ªán nƒÉng</div>
                                <div class="summary-value">45.2 kWh</div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <span class="material-icons">attach_money</span>
                            <div class="summary-info">
                                <div class="summary-label">Chi ph√≠</div>
                                <div class="summary-value">~135,000 VNƒê</div>
                            </div>
                        </div>
                        <div class="summary-card trend-up">
                            <span class="material-icons">trending_up</span>
                            <div class="summary-info">
                                <div class="summary-label">So v·ªõi h√¥m qua</div>
                                <div class="summary-value">+12%</div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Device List Screen -->
            <div id="devices-screen" class="screen">
                <div class="screen-header">
                    <h2>Thi·∫øt b·ªã</h2>
                    <div class="header-actions">
                        <button class="header-btn" onclick="showDeviceSearch()">
                            <span class="material-icons">search</span>
                        </button>
                        <button class="header-btn" onclick="showDeviceSettings()">
                            <span class="material-icons">settings</span>
                        </button>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="search-bar" id="device-search" style="display: none;">
                    <div class="search-input">
                        <span class="material-icons">search</span>
                        <input type="text" placeholder="T√¨m thi·∫øt b·ªã..." oninput="filterDevices(this.value)">
                    </div>
                </div>

                <!-- Filter Bar -->
                <div class="filter-bar">
                    <select class="filter-select" onchange="filterByRoom(this.value)">
                        <option value="">üìç T·∫•t c·∫£ ph√≤ng</option>
                        <option value="living-room">üõãÔ∏è Ph√≤ng kh√°ch</option>
                        <option value="bedroom">üõèÔ∏è Ph√≤ng ng·ªß</option>
                        <option value="kitchen">üç≥ Nh√† b·∫øp</option>
                        <option value="bathroom">üöø Ph√≤ng t·∫Øm</option>
                    </select>
                    <select class="filter-select" onchange="filterByType(this.value)">
                        <option value="">üîß T·∫•t c·∫£ lo·∫°i</option>
                        <option value="light">üí° ƒê√®n</option>
                        <option value="ac">‚ùÑÔ∏è ƒêi·ªÅu h√≤a</option>
                        <option value="tv">üì∫ TV</option>
                        <option value="socket">üîå ·ªî c·∫Øm</option>
                    </select>
                </div>

                <!-- Device List -->
                <div class="device-list" id="device-list">
                    <!-- Devices will be populated by JS -->
                </div>

                <!-- Add Device Button -->
                <button class="fab" onclick="showAddDevice()">
                    <span class="material-icons">add</span>
                </button>
            </div>

            <!-- Scenes Screen -->
            <div id="scenes-screen" class="screen">
                <div class="screen-header">
                    <h2>K·ªãch b·∫£n th√¥ng minh</h2>
                    <div class="header-actions">
                        <button class="header-btn" onclick="showSceneSearch()">
                            <span class="material-icons">search</span>
                        </button>
                        <button class="header-btn" onclick="showAddScene()">
                            <span class="material-icons">add</span>
                        </button>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="search-bar" id="scene-search" style="display: none;">
                    <div class="search-input">
                        <span class="material-icons">search</span>
                        <input type="text" placeholder="T√¨m k·ªãch b·∫£n..." oninput="filterScenes(this.value)">
                    </div>
                </div>

                <!-- Scene Tabs -->
                <div class="tabs">
                    <button class="tab active" onclick="showSceneTab('my-scenes')">K·ªãch b·∫£n c·ªßa t√¥i</button>
                    <button class="tab" onclick="showSceneTab('ai-suggestions')">G·ª£i √Ω AI</button>
                </div>

                <!-- My Scenes Tab -->
                <div id="my-scenes-tab" class="tab-content active">
                    <div class="scene-list" id="scene-list">
                        <!-- Scenes will be populated by JS -->
                    </div>
                </div>

                <!-- AI Suggestions Tab -->
                <div id="ai-suggestions-tab" class="tab-content">
                    <div class="ai-suggestions" id="ai-suggestions">
                        <!-- AI suggestions will be populated by JS -->
                    </div>
                </div>
            </div>

            <!-- Analytics Screen -->
            <div id="analytics-screen" class="screen">
                <div class="screen-header">
                    <h2>Th·ªëng k√™ ƒëi·ªán nƒÉng</h2>
                    <div class="header-actions">
                        <button class="header-btn" onclick="showAnalyticsChart()">
                            <span class="material-icons">bar_chart</span>
                        </button>
                        <button class="header-btn" onclick="showAnalyticsSettings()">
                            <span class="material-icons">settings</span>
                        </button>
                    </div>
                </div>

                <!-- Period Selector -->
                <div class="period-selector">
                    <button class="period-btn active" onclick="setPeriod('today')">H√¥m nay</button>
                    <button class="period-btn" onclick="setPeriod('week')">Tu·∫ßn</button>
                    <button class="period-btn" onclick="setPeriod('month')">Th√°ng</button>
                    <button class="period-btn" onclick="setPeriod('year')">NƒÉm</button>
                </div>

                <!-- Overview Cards -->
                <div class="analytics-overview">
                    <div class="analytics-card">
                        <div class="analytics-icon">‚ö°</div>
                        <div class="analytics-info">
                            <div class="analytics-value">45.2 kWh</div>
                            <div class="analytics-label">T·ªïng ti√™u th·ª•</div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon">üí∞</div>
                        <div class="analytics-info">
                            <div class="analytics-value">135,000 VNƒê</div>
                            <div class="analytics-label">Chi ph√≠</div>
                        </div>
                    </div>
                    <div class="analytics-card trend">
                        <div class="analytics-icon">üìà</div>
                        <div class="analytics-info">
                            <div class="analytics-value">+12%</div>
                            <div class="analytics-label">So v·ªõi h√¥m qua</div>
                        </div>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="energy-chart"></canvas>
                </div>

                <!-- Top Devices -->
                <section class="section">
                    <h3 class="section-title">Top thi·∫øt b·ªã ti√™u th·ª•</h3>
                    <div class="top-devices" id="top-devices">
                        <!-- Top devices will be populated by JS -->
                    </div>
                </section>

                <!-- Recommendations -->
                <section class="section">
                    <h3 class="section-title">ƒê·ªÅ xu·∫•t ti·∫øt ki·ªám</h3>
                    <div class="recommendations" id="recommendations">
                        <!-- Recommendations will be populated by JS -->
                    </div>
                </section>
            </div>

            <!-- Settings Screen -->
            <div id="settings-screen" class="screen">
                <div class="screen-header">
                    <h2>C√†i ƒë·∫∑t</h2>
                </div>

                <!-- Profile Section -->
                <div class="profile-section">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <span class="material-icons">person</span>
                        </div>
                        <div class="profile-details">
                            <div class="profile-name">Nguy·ªÖn VƒÉn A</div>
                            <div class="profile-email">user@example.com</div>
                        </div>
                    </div>
                    <button class="btn btn-outline" onclick="editProfile()">Ch·ªânh s·ª≠a h·ªì s∆°</button>
                </div>

                <!-- Settings Groups -->
                <div class="settings-groups">
                    <div class="settings-group">
                        <h4 class="group-title">T√†i kho·∫£n</h4>
                        <div class="setting-item" onclick="changePassword()">
                            <span class="material-icons">lock</span>
                            <span class="setting-label">ƒê·ªïi m·∫≠t kh·∫©u</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="showSecurity()">
                            <span class="material-icons">security</span>
                            <span class="setting-label">B·∫£o m·∫≠t 2 l·ªõp</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="showBackup()">
                            <span class="material-icons">backup</span>
                            <span class="setting-label">Sao l∆∞u & kh√¥i ph·ª•c</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h4 class="group-title">H·ªá th·ªëng</h4>
                        <div class="setting-item" onclick="manageHomes()">
                            <span class="material-icons">home</span>
                            <span class="setting-label">Qu·∫£n l√Ω nh√† & ph√≤ng</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="notificationSettings()">
                            <span class="material-icons">notifications</span>
                            <span class="setting-label">C√†i ƒë·∫∑t th√¥ng b√°o</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="themeSettings()">
                            <span class="material-icons">palette</span>
                            <span class="setting-label">Giao di·ªán s√°ng/t·ªëi</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="languageSettings()">
                            <span class="material-icons">language</span>
                            <span class="setting-label">Ng√¥n ng·ªØ</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h4 class="group-title">T√≠ch h·ª£p</h4>
                        <div class="setting-item" onclick="voiceSettings()">
                            <span class="material-icons">mic</span>
                            <span class="setting-label">ƒêi·ªÅu khi·ªÉn gi·ªçng n√≥i</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                        <div class="setting-item" onclick="otaSettings()">
                            <span class="material-icons">system_update</span>
                            <span class="setting-label">C·∫≠p nh·∫≠t OTA</span>
                            <span class="material-icons">chevron_right</span>
                        </div>
                    </div>
                </div>

                <!-- Logout Button -->
                <button class="btn btn-danger btn-full logout-btn" onclick="logout()">
                    ƒêƒÉng xu·∫•t
                </button>

                <!-- Version Info -->
                <div class="version-info">
                    Phi√™n b·∫£n 1.2.3 (Build 456)
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showScreen('home')">
                <span class="material-icons">home</span>
                <span class="nav-label">Trang ch·ªß</span>
            </button>
            <button class="nav-item" onclick="showScreen('devices')">
                <span class="material-icons">devices</span>
                <span class="nav-label">Thi·∫øt b·ªã</span>
            </button>
            <button class="nav-item" onclick="showScreen('scenes')">
                <span class="material-icons">movie</span>
                <span class="nav-label">K·ªãch b·∫£n</span>
            </button>
            <button class="nav-item" onclick="showScreen('analytics')">
                <span class="material-icons">analytics</span>
                <span class="nav-label">Th·ªëng k√™</span>
            </button>
            <button class="nav-item" onclick="showScreen('settings')">
                <span class="material-icons">settings</span>
                <span class="nav-label">C√†i ƒë·∫∑t</span>
            </button>
        </nav>
    </div>

    <!-- Modals and Overlays -->
    <div id="modal-overlay" class="modal-overlay">
        <!-- Device Control Modal -->
        <div id="device-control-modal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeModal()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h3 id="device-control-title">ƒêi·ªÅu khi·ªÉn thi·∫øt b·ªã</h3>
                <button class="header-btn" onclick="showDeviceSettings()">
                    <span class="material-icons">settings</span>
                </button>
            </div>
            <div class="modal-content" id="device-control-content">
                <!-- Content will be populated by JS -->
            </div>
        </div>

        <!-- Add Device Modal -->
        <div id="add-device-modal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeModal()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h3>Th√™m thi·∫øt b·ªã m·ªõi</h3>
            </div>
            <div class="modal-content">
                <div class="add-device-methods">
                    <div class="method-card">
                        <div class="qr-scanner">
                            <span class="material-icons">qr_code_scanner</span>
                            <h4>Qu√©t m√£ QR thi·∫øt b·ªã</h4>
                            <p>ƒê∆∞a camera v·ªÅ ph√≠a m√£ QR</p>
                        </div>
                        <button class="btn btn-primary" onclick="startQRScan()">B·∫Øt ƒë·∫ßu qu√©t</button>
                    </div>
                    
                    <div class="divider"><span>HO·∫∂C</span></div>
                    
                    <div class="form-group">
                        <label>Nh·∫≠p m√£ thi·∫øt b·ªã</label>
                        <input type="text" placeholder="ABC123DEF456" id="device-code">
                    </div>
                    
                    <div class="divider"><span>HO·∫∂C</span></div>
                    
                    <div class="nearby-devices">
                        <h4>T√¨m thi·∫øt b·ªã g·∫ßn ƒë√≥</h4>
                        <div class="scanning-status">
                            <span class="material-icons spin">refresh</span>
                            <span>ƒêang qu√©t...</span>
                        </div>
                        <div class="nearby-list" id="nearby-devices-list">
                            <!-- Nearby devices will be populated by JS -->
                        </div>
                    </div>
                    
                    <button class="btn btn-outline btn-full" onclick="refreshNearbyDevices()">
                        L√†m m·ªõi
                    </button>
                </div>
            </div>
        </div>

        <!-- Notifications Modal -->
        <div id="notifications-modal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeModal()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h3>Th√¥ng b√°o</h3>
                <div class="header-actions">
                    <button class="header-btn" onclick="searchNotifications()">
                        <span class="material-icons">search</span>
                    </button>
					<button class="header-btn" onclick="notificationSettings()">
                       <span class="material-icons">settings</span>
                   </button>
                   <button class="header-btn" onclick="clearAllNotifications()">
                       <span class="material-icons">delete</span>
                   </button>
               </div>
           </div>
           <div class="modal-content">
               <!-- Notification Filters -->
               <div class="notification-filters">
                   <button class="filter-btn active" onclick="filterNotifications('all')">T·∫•t c·∫£</button>
                   <button class="filter-btn" onclick="filterNotifications('warning')">‚ö†Ô∏è C·∫£nh b√°o</button>
                   <button class="filter-btn" onclick="filterNotifications('info')">‚ÑπÔ∏è Th√¥ng tin</button>
               </div>
               
               <!-- Notifications List -->
               <div class="notifications-list" id="notifications-list">
                   <!-- Notifications will be populated by JS -->
               </div>
           </div>
       </div>

       <!-- Loading Modal -->
       <div id="loading-modal" class="modal loading-modal">
           <div class="loading-content">
               <div class="spinner"></div>
               <p id="loading-text">ƒêang x·ª≠ l√Ω...</p>
           </div>
       </div>

       <!-- Confirmation Modal -->
       <div id="confirmation-modal" class="modal confirmation-modal">
           <div class="modal-content">
               <div class="confirmation-icon">
                   <span class="material-icons" id="confirmation-icon">warning</span>
               </div>
               <h3 id="confirmation-title">X√°c nh·∫≠n</h3>
               <p id="confirmation-message">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
               <div class="confirmation-actions">
                   <button class="btn btn-outline" onclick="closeModal()">H·ªßy b·ªè</button>
                   <button class="btn btn-primary" id="confirmation-confirm" onclick="confirmAction()">X√°c nh·∫≠n</button>
               </div>
           </div>
       </div>
   </div>

   <!-- Toast Notifications -->
   <div id="toast-container" class="toast-container"></div>

   <!-- Voice Control Overlay -->
   <div id="voice-overlay" class="voice-overlay">
       <div class="voice-content">
           <div class="voice-animation">
               <div class="voice-circle"></div>
               <div class="voice-circle"></div>
               <div class="voice-circle"></div>
           </div>
           <h3>ƒêang nghe...</h3>
           <p id="voice-transcript">H√£y n√≥i l·ªánh c·ªßa b·∫°n</p>
           <button class="btn btn-outline" onclick="stopVoiceControl()">D·ª´ng</button>
       </div>
   </div>

   <!-- PWA Install Prompt -->
   <div id="install-prompt" class="install-prompt">
       <div class="install-content">
           <span class="material-icons">get_app</span>
           <div class="install-text">
               <h4>C√†i ƒë·∫∑t SmartHome IoT</h4>
               <p>Truy c·∫≠p nhanh h∆°n t·ª´ m√†n h√¨nh ch√≠nh</p>
           </div>
           <button class="btn btn-primary btn-sm" onclick="installPWA()">C√†i ƒë·∫∑t</button>
           <button class="btn btn-text btn-sm" onclick="dismissInstall()">B·ªè qua</button>
       </div>
   </div>

   <!-- Scripts -->
   <script src="js/utils.js"></script>
   <script src="js/data.js"></script>
   <script src="js/components.js"></script>
   <script src="js/app.js"></script>
</body>
</html>